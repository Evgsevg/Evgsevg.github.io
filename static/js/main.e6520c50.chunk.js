(this.webpackJsonpyalantis_test_project=this.webpackJsonpyalantis_test_project||[]).push([[0],{150:function(e,t,s){e.exports={loader:"loading_loader__3q5Gg"}},476:function(e,t,s){},478:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(18),r=s.n(n),c=s(5),o=s(6),i=s.n(o),l=s(2),u=function(e){var t,s=e.users,a=e.activeUsersIds,n=function(e){return e.map((function(e){return s.find((function(t){return t.id===e}))}))}(a),r=(t=function(e){var t=["January","February","March","April","May","June","July","August","September","October","November","December"];return e.reduce((function(e,s){var a=(new Date).getMonth(),n=new Date(s.dob).getMonth();return n>=a&&(e[t[n]]||(e[t[n]]=[]),e[t[n]].push(s)),e}),{})}(n),Object.keys(t).forEach((function(e){t[e]=t[e].sort((function(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0}))})),t);return Object(l.jsxs)("div",{className:i.a.employees__column,children:[Object(l.jsx)("p",{className:i.a.employees__header,children:"Employees birthday"}),Object(l.jsxs)("div",{className:i.a.employees__content,children:[!a.length&&Object(l.jsx)("div",{children:" Employees List is empty"}),a.length>0&&function(e){return Object.keys(e).map((function(t){return Object(l.jsxs)("div",{className:i.a.employees__birthdayMonthContainer,children:[Object(l.jsx)("div",{className:i.a.employees__birthdayMonth,children:t}),Object(l.jsx)("ul",{className:i.a.employees__birthdayList,children:e[t].map((function(e){return Object(l.jsx)("li",{children:"".concat(e.lastName," ").concat(e.firstName," ").concat(new Date(e.dob).toLocaleDateString())},e.id)}))})]},t)}))}(r)]})]})},_=(s(156),s(33)),m=s(91),d=s.n(m),p=s(148),y=s(64),h=s(149),j=s.n(h),b="IDLE",f=function(){try{var e=localStorage.getItem("reduxStore");if(null==e)return;return JSON.parse(e)}catch(t){console.error(t)}}(),v={};v=f?f.userSlice:{users:[],activeUsersIds:[],isLoading:b};var O=Object(y.b)({name:"users",initialState:v,reducers:{incrementByAmount:function(e,t){e.value+=t.payload},setUsers:function(e,t){e.users=t.payload},setUsersLoading:function(e,t){e.isLoading=t.payload},setActiveUser:function(e,t){e.activeUsersIds.push(t.payload)},removeActiveUser:function(e,t){e.activeUsersIds=e.activeUsersIds.filter((function(e){return e!==t.payload}))}}}),N=O.actions,x=N.setUsers,g=N.setUsersLoading,U=N.setActiveUser,I=N.removeActiveUser,L=O.reducer;var S=function(e){var t=e.users,s=e.activeUsersIds,a=Object(_.b)(),n=function(e,t){for(var s=[],a=e.charCodeAt(0),n=t.charCodeAt(0);a<=n;++a)s.push(String.fromCharCode(a));return s}("a","z").reduce((function(e,s){return e[s]||(e[s]=t.filter((function(e){return e.lastName[0].toLowerCase()===s})).sort((function(e,t){return e.lastName>t.lastName?1:e.lastName<t.lastName?-1:0}))),e}),{}),r=function(e){return function(t){a(I(e))}};return Object(l.jsxs)("div",{className:i.a.employees__column,children:[Object(l.jsx)("p",{className:i.a.employees__header,children:"Employees"}),Object(l.jsx)("div",{className:"".concat(i.a.employees__content," ").concat(i.a.employees__content_users),children:Object.keys(n).map((function(e){var t=n[e];return Object(l.jsxs)("div",{className:i.a.employees__letterWrapper,children:[Object(l.jsx)("p",{className:i.a.employees__letter,children:e.toUpperCase()}),0===t.length&&Object(l.jsx)("div",{children:"\u2014"}),t.length>0&&t.map((function(e){return Object(l.jsxs)("div",{className:i.a.employees__userData,children:[Object(l.jsx)("p",{className:s.includes(e.id)?"".concat(i.a.employees__userName," ").concat(i.a.employees__userName_active):"".concat(i.a.employees__userName),children:"".concat(e.lastName," ").concat(e.firstName)},e.id),Object(l.jsxs)("p",{className:i.a.employees__status,children:[Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{checked:s.includes(e.id),type:"radio",name:"".concat(e.id,"status"),value:"active",onChange:(t=e.id,function(e){a(U(t))})}),"active"]}),Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{checked:!s.includes(e.id),type:"radio",name:"".concat(e.id,"status"),value:"not_active",onChange:r(e.id)}),"not active"]})]})]},e.id);var t}))]},e)}))})]})},D=s.p+"static/media/loader.372b42cf.gif",C=s(150),A=s.n(C),M=function(){return Object(l.jsx)("div",{className:A.a.loader,children:Object(l.jsx)("img",{src:D,alt:"loader"})})},k=function(){var e=Object(_.c)((function(e){return e.userSlice})),t=e.users,s=e.isLoading,n=e.activeUsersIds,r=Object(_.b)();return Object(a.useEffect)((function(){t.length||r(function(){var e=Object(p.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(g("LOADING")),j.a.get("".concat("https://yalantis-react-school-api.yalantis.com/api/","task0/users")).then((function(e){t(g(b)),t(x(e.data))})).catch((function(e){return console.error(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[r]),Object(l.jsxs)(l.Fragment,{children:["LOADING"===s||"IDLE"===s&&0===t.length?Object(l.jsx)(M,{}):Object(l.jsxs)("div",{className:i.a.employees,children:[Object(l.jsx)(S,{users:t,activeUsersIds:n}),Object(l.jsx)(u,{users:t,activeUsersIds:n})]}),";"]})};s(476);var w=function(){return Object(l.jsx)("div",{children:Object(l.jsx)(c.c,{children:Object(l.jsx)(c.a,{path:"/",children:Object(l.jsx)(k,{})})})})},E=Object(y.a)({reducer:{userSlice:L}}),J=s(90);E.subscribe((function(){!function(e){try{var t=JSON.stringify(e);localStorage.setItem("reduxStore",t)}catch(s){console.error(s)}}(E.getState())})),r.a.render(Object(l.jsx)(J.a,{children:Object(l.jsx)(_.a,{store:E,children:Object(l.jsx)(w,{})})}),document.getElementById("root"))},6:function(e,t,s){e.exports={employees:"employees_employees__2uXcE",employees__header:"employees_employees__header__Z-u7Y",employees__column:"employees_employees__column__ZH1P1",employees__content:"employees_employees__content__Rd5Th",employees__content_users:"employees_employees__content_users__15_Lz",employees__letterWrapper:"employees_employees__letterWrapper__2lVfh",employees__letter:"employees_employees__letter__2wVzu",employees__userName:"employees_employees__userName__3sgSq",employees__userName_active:"employees_employees__userName_active__3rCuV",employees__userData:"employees_employees__userData__3tZaD",employees__status:"employees_employees__status__W2RgM",employees__birthdayMonthContainer:"employees_employees__birthdayMonthContainer__-oh-K",employees__birthdayList:"employees_employees__birthdayList__2Go0H",employees__birthdayMonth:"employees_employees__birthdayMonth__1sHzQ"}}},[[478,1,2]]]);
//# sourceMappingURL=main.e6520c50.chunk.js.map